<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Easy English Adventure</title>

<style>
body{
margin:0;
font-family:"Comic Sans MS",cursive;
background:linear-gradient(#6bd6ff,#dff6ff);
overflow:hidden;
}

/* ===== GLOBAL ===== */
.screen{
display:none;
width:100vw;
height:100vh;
flex-direction:column;
justify-content:center;
align-items:center;
gap:20px;
padding:20px;
box-sizing:border-box;
text-align:center;
animation:fade .4s;
}

@keyframes fade{
from{opacity:0;transform:scale(.95);}
to{opacity:1;transform:scale(1);}
}

button{
width:100%;
max-width:300px;
padding:15px;
border:none;
border-radius:20px;
font-size:18px;
background:#ffdd00;
box-shadow:0 5px #c9a700;
cursor:pointer;
}

/* ===== NAVBAR ===== */
.nav{
position:fixed;
top:10px;
right:10px;
display:flex;
gap:10px;
z-index:9999;
}
.nav button{
width:auto;
background:#00ffd5;
}

/* ===== QUIZ ===== */
#options{
display:flex;
flex-direction:column;
gap:15px;
width:100%;
max-width:400px;
}

.correct{background:#6cff6c!important;}
.wrong{background:#ff6c6c!important;color:white;}

#timer{
font-size:28px;
color:#ff3333;
}

/* ===== GALLERY ===== */
#galleryControls{
display:flex;
gap:20px;
}

/* ===== MOBILE ===== */
@media(max-width:600px){
h1{font-size:26px;}
h2{font-size:22px;}
}
</style>
</head>

<body>

<!-- NAV -->
<div class="nav">
<button onclick="goHome()">üè†</button>
<button onclick="toggleMusic()">üéµ</button>
</div>

<!-- START OVERLAY -->
<div id="overlay" class="screen" style="display:flex;background:#000a;color:white;">
<h2>Tap anywhere to start üéµ</h2>
</div>

<!-- HOME -->
<div id="home" class="screen">
<h1>Easy English Adventure</h1>
<button onclick="show('map')">Start Adventure</button>
<button onclick="show('gallery')">Learning Gallery</button>
</div>

<!-- MAP -->
<div id="map" class="screen">
<h2>Adventure Map</h2>
<div style="font-size:60px">üêº ‚û° üê∂ ‚û° ü¶Å</div>
<button onclick="startGame('animals')">Animals World</button>
<button onclick="startGame('food')">Food World</button>
<button onclick="startGame('colors')">Color World</button>
</div>

<!-- GAME -->
<div id="game" class="screen">
<h2 id="question"></h2>
<div id="timer"></div>
<div id="options"></div>
</div>

<!-- GALLERY -->
<div id="gallery" class="screen">
<div id="gIcon" style="font-size:120px;"></div>
<div id="gText" style="font-size:30px;"></div>
<div id="galleryControls">
<button onclick="prev()">‚¨Ö</button>
<button onclick="speak()">üîä</button>
<button onclick="next()">‚û°</button>
</div>
</div>

<!-- AUDIO -->
<audio id="bgm" loop src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_5c9b76cc38.mp3"></audio>
<audio id="correctSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_29efbd7bfa.mp3"></audio>
<audio id="wrongSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_5f8b7e18f0.mp3"></audio>

<script>
/* ===== BASE ===== */
let bgm=document.getElementById("bgm");
document.getElementById("overlay").onclick=function(){
bgm.play();
this.style.display="none";
show("home");
};

function toggleMusic(){
if(bgm.paused) bgm.play();
else bgm.pause();
}

function show(id){
document.querySelectorAll(".screen").forEach(s=>s.style.display="none");
document.getElementById(id).style.display="flex";
}
function goHome(){show("home");}

/* ===== QUIZ DATA ===== */
const data={
animals:["Cat","Dog","Cow","Fish","Bird","Lion","Tiger","Elephant","Monkey","Rabbit","Duck","Goat","Horse","Sheep","Frog"],
food:["Apple","Rice","Milk","Bread","Cake","Egg","Pizza","Banana","Fish","Soup","Cheese","Burger","Orange","Chicken","Water"],
colors:["Red","Blue","Green","Yellow","Black","White","Pink","Purple","Orange","Brown","Gray","Cyan","Gold","Silver","Violet"]
};

let world="",q=0,timer=null;

function startGame(w){
world=w;
q=0;
show("game");
loadQ();
}

function loadQ(){
clearInterval(timer);
let list=data[world];
let correct=list[q];
question.innerText="Find: "+correct;

options.innerHTML="";
let opts=[correct];
while(opts.length<3){
let r=list[Math.floor(Math.random()*15)];
if(!opts.includes(r)) opts.push(r);
}
opts.sort(()=>Math.random()-0.5);

opts.forEach(o=>{
let b=document.createElement("button");
b.innerText=o;
b.onclick=()=>pick(o,correct,b);
options.appendChild(b);
});

let t=5;
timer=setInterval(()=>{
timerEl.innerText=t;
t--;
if(t<0){
clearInterval(timer);
nextQ();
}
},1000);
timerEl.innerText=5;
}

function pick(a,c,btn){
clearInterval(timer);
if(a==c){btn.classList.add("correct");correctSound.play();}
else{btn.classList.add("wrong");wrongSound.play();}
setTimeout(nextQ,700);
}

function nextQ(){
q++;
if(q<15) loadQ();
else goHome();
}

/* ===== GALLERY ===== */
const gallery=[
{name:"Cat",icon:"üê±"},
{name:"Dog",icon:"üê∂"},
{name:"Apple",icon:"üçé"},
{name:"Car",icon:"üöó"},
{name:"Bus",icon:"üöå"}
];
let gi=0;

function render(){
gIcon.innerText=gallery[gi].icon;
gText.innerText=gallery[gi].name;
}
render();

function next(){gi=(gi+1)%gallery.length;render();}
function prev(){gi=(gi-1+gallery.length)%gallery.length;render();}
function speak(){
speechSynthesis.speak(new SpeechSynthesisUtterance(gallery[gi].name));
}
</script>

</body>
</html>
