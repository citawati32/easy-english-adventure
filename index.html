<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Easy English Adventure</title>
<style>
body{
margin:0;
font-family:'Comic Sans MS',cursive;
background:linear-gradient(#74ebd5,#9face6);
text-align:center;
overflow:hidden;
}
.screen{
display:none;
padding:20px;
}
.active{display:block;}

h1{color:#fff;text-shadow:3px 3px #333;font-size:40px;}
button{
padding:15px 30px;
font-size:20px;
border:none;
border-radius:20px;
margin:10px;
cursor:pointer;
background:#ffcc00;
box-shadow:3px 3px #333;
transition:.3s;
}
button:hover{transform:scale(1.1);}

.menu{
margin-top:80px;
}

.card{
background:white;
border-radius:20px;
padding:20px;
margin:20px auto;
width:300px;
box-shadow:5px 5px #333;
}

.option{
display:block;
background:#74ebd5;
margin:10px;
padding:15px;
border-radius:15px;
cursor:pointer;
font-size:18px;
}

#timer{
font-size:30px;
color:red;
}

img{
width:200px;
height:200px;
border-radius:20px;
}

.fade{
animation:fade .5s;
}
@keyframes fade{
from{opacity:0;}
to{opacity:1;}
}
</style>
</head>

<body>

<!-- HOME -->
<div id="home" class="screen active fade">
<h1>Easy English Adventure</h1>
<div class="menu">
<button onclick="openWorld()">Start Adventure</button>
<button onclick="openWorld()">Choose World</button>
<button onclick="openGallery()">Learning Gallery</button>
<br><br>
<button onclick="toggleAudio()">ðŸ”Š Audio ON/OFF</button>
</div>
</div>

<!-- WORLD -->
<div id="world" class="screen fade">
<h1>Choose Topic</h1>
<div class="card">
<button onclick="startGame('animals')">Animals</button>
<button onclick="startGame('food')">Food</button>
<button onclick="startGame('numbers')">Numbers</button>
<button onclick="startGame('colors')">Colors</button>
<button onclick="startGame('transport')">Transport</button>
<button onclick="goHome()">Back</button>
</div>
</div>

<!-- GAME -->
<div id="game" class="screen fade">
<h1 id="questionTitle"></h1>
<div id="timer">5</div>
<div id="options"></div>
</div>

<!-- GAME OVER -->
<div id="gameover" class="screen fade">
<h1>Game Over</h1>
<h2 id="scoreText"></h2>
<button onclick="retry()">Retry</button>
<button onclick="goHome()">Back to Home</button>
</div>

<!-- GALLERY -->
<div id="gallery" class="screen fade">
<h1>Learning Gallery</h1>
<img id="galImg">
<h2 id="galText"></h2>
<br>
<button onclick="prev()">Prev</button>
<button onclick="next()">Next</button>
<button onclick="speak()">ðŸ”Š Speak</button>
<button onclick="toggleText()">Text ON/OFF</button>
<br><br>
<button onclick="goHome()">Back</button>
</div>

<script>
let audioOn=true;
let score=0;
let timer;
let time=5;
let current=0;
let maxQ=15;
let topic="";

const data={
animals:[
{q:"Which is CAT?", a:"Cat", o:["Dog","Cat","Cow"]},
{q:"Which is DOG?", a:"Dog", o:["Dog","Fish","Bird"]},
{q:"Which is BIRD?", a:"Bird", o:["Cow","Bird","Cat"]}
],
food:[
{q:"Which is APPLE?",a:"Apple",o:["Apple","Milk","Rice"]},
{q:"Which is MILK?",a:"Milk",o:["Cake","Milk","Egg"]}
],
numbers:[
{q:"Which is 1?",a:"1",o:["2","1","3"]},
{q:"Which is 3?",a:"3",o:["3","5","2"]}
],
colors:[
{q:"Which is RED?",a:"Red",o:["Red","Blue","Green"]},
{q:"Which is BLUE?",a:"Blue",o:["Yellow","Blue","Red"]}
],
transport:[
{q:"Which is CAR?",a:"Car",o:["Car","Ship","Plane"]},
{q:"Which is PLANE?",a:"Plane",o:["Bike","Plane","Bus"]}
]
};

const galleryData=[
{name:"Cat",img:"https://i.imgur.com/2X4QH0v.png"},
{name:"Dog",img:"https://i.imgur.com/OVC5XxB.png"},
{name:"Apple",img:"https://i.imgur.com/1cXyG6Y.png"},
{name:"Car",img:"https://i.imgur.com/lkQKJ9U.png"}
];

let g=0;
let showText=true;

function openWorld(){
show("world");
}
function goHome(){
show("home");
}
function openGallery(){
show("gallery");
loadGallery();
}

function show(id){
document.querySelectorAll('.screen').forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
}

function startGame(t){
topic=t;
current=0;
score=0;
show("game");
loadQuestion();
}

function loadQuestion(){
if(current>=maxQ || !data[topic][current%data[topic].length]){
endGame();
return;
}
let q=data[topic][current%data[topic].length];
document.getElementById("questionTitle").innerText=q.q;
let op="";
q.o.forEach(x=>{
op+=`<div class="option" onclick="check('${x}')">${x}</div>`;
});
document.getElementById("options").innerHTML=op;
time=5;
document.getElementById("timer").innerText=time;
timer=setInterval(countdown,1000);
}

function countdown(){
time--;
document.getElementById("timer").innerText=time;
if(time<=0){
clearInterval(timer);
current++;
loadQuestion();
}
}

function check(ans){
clearInterval(timer);
let q=data[topic][current%data[topic].length];
if(ans==q.a) score++;
current++;
loadQuestion();
}

function endGame(){
show("gameover");
document.getElementById("scoreText").innerText="Score: "+score;
}

function retry(){
startGame(topic);
}

function toggleAudio(){
audioOn=!audioOn;
alert("Audio "+(audioOn?"ON":"OFF"));
}

function loadGallery(){
document.getElementById("galImg").src=galleryData[g].img;
document.getElementById("galText").innerText=galleryData[g].name;
}

function next(){
g=(g+1)%galleryData.length;
loadGallery();
}

function prev(){
g--;
if(g<0)g=galleryData.length-1;
loadGallery();
}

function speak(){
if(!audioOn) return;
let u=new SpeechSynthesisUtterance(galleryData[g].name);
speechSynthesis.speak(u);
}

function toggleText(){
showText=!showText;
document.getElementById("galText").style.display=showText?"block":"none";
}
</script>
</body>
</html>
